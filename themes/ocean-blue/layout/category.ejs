<div class="category">
  <header class="category-header">
    <h1 class="category-title">分类：<%- page.category %></h1>
    <div class="category-count">共 <%- page.posts.length %> 篇文章</div>
  </header>

  <div class="posts-container">
    <% page.posts.each(function(post) { %>
      <article class="post-card">
        <div class="post-content">
          <header class="post-header">
            <h2 class="post-title">
              <a href="<%- url_for(post.path) %>"><%- post.title %></a>
            </h2>
            <div class="post-meta">
              <time class="post-date"><%- date(post.date, theme.article.date_format) %></time>
            </div>
          </header>
          
          <div class="post-excerpt">
            <% if (post.excerpt) { %>
              <%- post.excerpt %>
            <% } else { %>
              <%- truncate(strip_html(post.content), {length: 200}) %>
            <% } %>
          </div>
          
          <% if (theme.article.show_tags && post.tags && post.tags.length) { %>
            <div class="post-tags">
              <% post.tags.each(function(tag) { %>
                <a href="<%- url_for(tag.path) %>" class="tag">#<%- tag.name %></a>
              <% }) %>
            </div>
          <% } %>
          
          <div class="post-actions">
            <a href="<%- url_for(post.path) %>" class="read-more"><%- theme.article.excerpt_link %></a>
          </div>
        </div>
      </article>
    <% }) %>
  </div>
</div>

<% if (page.total > 1) { %>
  <nav class="pagination">
    <%- paginator({
      prev_text: '← 上一页',
      next_text: '下一页 →',
      mid_size: 1,
      end_size: 1
    }) %>
  </nav>
<% } %>